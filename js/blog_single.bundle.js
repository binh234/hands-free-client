(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1:function(t,e,n){"use strict";n.d(e,"d",function(){return a}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return r});var o=n(2);function a(t=(()=>{})){$("#loading").css("display","block"),setTimeout(()=>t(),400)}function i(){$("#loading").css("display","none")}function c(t){i(),setTimeout(()=>Object(o.b)(t),100)}function r(t){i(),setTimeout(()=>Object(o.b)(t.responseJSON),100)}},13:function(t,e,n){"use strict";var o=n(10),a=n.n(o),i=n(8),c=n.n(i),r=n(1),s=n(2);let l=!1;const u=()=>l;function d(){window.innerWidth>991&&l&&g()}function g(){$(".page_menu");var t=$(".page_menu_content");TweenMax.to(t,.3,{height:0}),l=!1}var f=n(7),m=n(5),p=n(4),h=n(9);$("#btn-modal-forgot").click(()=>{Object(r.d)(),setTimeout(()=>{Object(r.c)(),Object(s.c)("Đã gửi đường dẫn thay đổi mật khẩu tới địa chỉ email của bạn. Vui lòng kiểm tra email.",()=>{$("#js-modal-forgot").modal("hide")})},500)}),$("#btn-modal-login").click(()=>{const t=$("#loginEmail").val(),e=$("#loginPassword").val();if(!a.a.isEmail(t))return alert("Địa chỉ email không hợp lệ");const n=`${p.a.baseUrl}/api/auth/login.php`;Object(r.d)(()=>{$.post(n,c.a.stringify({email:t,password:e}),t=>{Object(r.c)(),console.log(t);const{issuedAt:e,token:n,tokenExpire:o,user:a}=t;Object(m.f)(a,n,o,e),window.location.reload()}).fail(t=>Object(r.a)(t.responseJSON))})}),$("#btn-modal-signup").click(()=>{const t=$("#signUpEmail").val().toLowerCase(),e=$("#signUpFirstName").val(),n=$("#signUpLastName").val(),o=$("#signUpTel").val(),i=$("#signUpAddress").val(),l=$("#signUpPassword").val(),u=$("#signUpConfirm").val();if([t,e,n,o,i,l].reduce((t,e)=>t||0==e.length,!1))return alert("Vui lòng điền đầy đủ thông tin.");if(!a.a.isEmail(t))return alert("Địa chỉ email không hợp lệ.");if(!Object(h.a)(l))return alert("Mật khẩu yêu cầu tối thiểu 8 ki tự, trong đó ít nhất 1 kí tự hoa, 1 kí tự thường, 1 số và 1 kí tự đặc biệt.");if(l!==u)return alert("Mật khẩu không khớp.");const d=`${p.a.baseUrl}/api/auth/signup.php`,g={email:t,firstName:e,lastName:n,tel:o,address:i,password:l};Object(r.d)(()=>{$.post(d,c.a.stringify(g),t=>{Object(r.c)(),console.log(t),Object(s.c)("Đăng kí tài khoản thành công.",()=>{$("#js-modal-signup").modal("hide")})}).fail(t=>Object(r.a)(t.responseJSON))})}),$("#headerLogout").find("a").click(()=>{Object(m.a)(),window.location.reload()}),Object(m.d)(t=>{if(t){console.log("Logined");const{user:e,token:n}=t;console.log(e),$("#headerLogin").hide(),$("#headerSignUp").hide()}else console.log("No login"),$("#headerProfile").hide(),$("#headerLogout").hide()}),d(),function(){var t,e;$(".custom_dropdown_placeholder").length&&$(".custom_list").length&&(t=$(".custom_dropdown_placeholder"),e=$(".custom_list")),t.on("click",t=>{e.hasClass("active")?e.removeClass("active"):e.addClass("active"),$(document).one("click",function t(n){$(n.target).hasClass("clc")?$(document).one("click",t):e.removeClass("active")})}),$(".custom_list a").on("click",function(n){n.preventDefault(),$(this).parent().index(),t.text($(this).text()).css("opacity","1"),e.hasClass("active")?e.removeClass("active"):e.addClass("active")}),$("select").on("change",function(e){t.text(this.value),$(this).animate({width:`${t.width()}px`})})}(),$(".page_menu").length&&$(".page_menu_content").length&&($(".page_menu"),$(".page_menu_content"),$(".menu_trigger").on("click",()=>{u()?g():function(){$(".page_menu");var t=$(".page_menu_content");TweenMax.set(t,{height:"auto"}),TweenMax.from(t,.3,{height:0}),l=!0}()}),$(".page_menu_item").length&&$(".page_menu_item").each(function(){var t=$(this);t.hasClass("has-children")&&t.on("click",e=>{e.preventDefault(),e.stopPropagation();var n=t.find("> ul");n.hasClass("active")?(n.toggleClass("active"),TweenMax.to(n,.3,{height:0})):(n.toggleClass("active"),TweenMax.set(n,{height:"auto"}),TweenMax.from(n,.3,{height:0}))})})),Object(f.c)(),Object(f.d)(),$(window).on("resize",()=>{d()})},162:function(t,e,n){"use strict";n.r(e);n(163),n(165),n(13)},163:function(t,e,n){},165:function(t,e,n){},2:function(t,e,n){"use strict";function o(t,e=(()=>{})){$.confirm({title:"Thông báo",icon:"fa fa-bell",type:"green",content:t,buttons:{ok:{text:"OK",btnClass:"btn-green",action(){e()}}}})}function a(t,e=(()=>{})){$.confirm({title:"Lỗi",icon:"fa fa-exclamation-triangle",type:"red",content:t,buttons:{ok:{text:"OK",btnClass:"btn-red",action(){e()}}}})}function i(t,e,n,o=(()=>{}),a=(()=>{})){$.confirm({title:"Thông báo",icon:"fa fa-bell",type:"green",content:t,buttons:{ok:{text:e,btnClass:"btn-green",action(){o()}},cancel:{text:n,action(){a()}}}})}function c(t,e,n,o=(()=>{}),a=(()=>{})){$.confirm({title:"Cảnh báo",icon:"fa fa-exclamation-triangle",type:"red",content:t,buttons:{ok:{text:e,btnClass:"btn-red",action(){o()}},cancel:{text:n,action(){a()}}}})}function r(t,e,n,o=(()=>{}),a=(()=>{})){$.confirm({title:"Thông báo",icon:"fa fa-question-circle",type:"orange",content:t,buttons:{ok:{text:e,btnClass:"btn-orange",action(){o()}},cancel:{text:n,action(){a()}}}})}n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return i}),n.d(e,"a",function(){return c}),n.d(e,"e",function(){return r})},4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});const o={baseUrl:"http://hands-free.epizy.com"}},5:function(t,e,n){"use strict";function o(t,e,n,o){localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("token",e),localStorage.setItem("tokenExpire",n),localStorage.setItem("issuedAt",o)}function a(){["user","token","tokenExpire","issuedAt"].forEach(t=>{localStorage.removeItem(t)})}function i(){return localStorage.getItem("token")}function c(){return JSON.parse(localStorage.getItem("user"))}function r(t){localStorage.setItem("user",JSON.stringify(t))}function s(t){const e=JSON.parse(localStorage.getItem("user")),n=localStorage.getItem("token"),o=localStorage.getItem("tokenExpire");if(!e||!e.email||!n||!o||1e3*o<Date.now())return a(),t();t({user:e,token:n})}function l(){const t=JSON.parse(localStorage.getItem("user")),e=localStorage.getItem("token"),n=localStorage.getItem("tokenExpire");return t&&t.email&&e&&n&&!(1e3*n<Date.now())?{user:t,token:e}:(a(),!1)}n.d(e,"f",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return c}),n.d(e,"g",function(){return r}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return l})},6:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(12),a=n.n(o);function i(t){return`${a()(t).format("0,0")} đ`}},7:function(t,e,n){"use strict";n.d(e,"g",function(){return a}),n.d(e,"c",function(){return r}),n.d(e,"d",function(){return s}),n.d(e,"a",function(){return l}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return d}),n.d(e,"b",function(){return g});var o=n(6);const a=t=>t.reduce((t,e)=>t+Number.parseInt(e.price,10)*e.quantity,0),i=t=>Object(o.a)(a(t)),c=t=>t.reduce((t,e)=>t+e.quantity,0),r=()=>{const t=$(".cart_count span"),e=$(".cart_price"),n=JSON.parse(localStorage.getItem("cart")||"[]");t.text(c(n)),e.text(i(n))},s=()=>{const t=$(".wishlist_count"),e=JSON.parse(localStorage.getItem("wishlist")||"[]");t.text(e.length)},l=(t,e=1)=>{const n=$(".cart_count span"),o=$(".cart_price"),a=JSON.parse(localStorage.getItem("cart")||"[]");console.log("Add cart:",t);const{id:r,brandName:s,modelId:l,modelName:u,name:d,price:g,thumbnail:f}=t,m=a.findIndex(t=>t.id==r);m>-1?a[m].quantity+=e:a.push({quantity:e,id:r,brandName:s,modelId:l,modelName:u,name:d,price:g,thumbnail:f}),n.text(c(a)),o.text(i(a)),localStorage.setItem("cart",JSON.stringify(a))},u=t=>{const e=$(".cart_count span"),n=$(".cart_price"),o=JSON.parse(localStorage.getItem("cart")||"[]");console.log("Remove cart:",t);const{id:a,brandName:r,modelId:s,modelName:l,name:u,price:d,thumbnail:g}=t,f=o.findIndex(t=>t.id==a);f>-1?(o[f].quantity--,0==o[f].quantity&&o.splice(f,1)):console.log("Item not found"),e.text(c(o)),n.text(i(o)),localStorage.setItem("cart",JSON.stringify(o))},d=()=>JSON.parse(localStorage.getItem("cart")||"[]"),g=()=>{localStorage.removeItem("cart")}},9:function(t,e,n){"use strict";function o(t){return t&&/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(t)}function a(t){return t&&/^uploads\/.*$/.test(t)}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a})}},[[162,1,0]]]);