(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1:function(t,n,e){"use strict";e.d(n,"d",function(){return i}),e.d(n,"c",function(){return c}),e.d(n,"a",function(){return o}),e.d(n,"b",function(){return r});var a=e(2);function i(t=(()=>{})){$("#loading").css("display","block"),setTimeout(()=>t(),400)}function c(){$("#loading").css("display","none")}function o(t){c(),setTimeout(()=>Object(a.b)(t),100)}function r(t){c(),setTimeout(()=>Object(a.b)(t.responseJSON),100)}},13:function(t,n,e){"use strict";var a=e(10),i=e.n(a),c=e(8),o=e.n(c),r=e(1),s=e(2);let l=!1;const u=()=>l;function d(){window.innerWidth>991&&l&&m()}function m(){$(".page_menu");var t=$(".page_menu_content");TweenMax.to(t,.3,{height:0}),l=!1}var g=e(7),f=e(5),h=e(4),p=e(9);$("#btn-modal-forgot").click(()=>{Object(r.d)(),setTimeout(()=>{Object(r.c)(),Object(s.c)("Đã gửi đường dẫn thay đổi mật khẩu tới địa chỉ email của bạn. Vui lòng kiểm tra email.",()=>{$("#js-modal-forgot").modal("hide")})},500)}),$("#btn-modal-login").click(()=>{const t=$("#loginEmail").val(),n=$("#loginPassword").val();if(!i.a.isEmail(t))return alert("Địa chỉ email không hợp lệ");const e=`${h.a.baseUrl}/api/auth/login.php`;Object(r.d)(()=>{$.post(e,o.a.stringify({email:t,password:n}),t=>{Object(r.c)(),console.log(t);const{issuedAt:n,token:e,tokenExpire:a,user:i}=t;Object(f.f)(i,e,a,n),window.location.reload()}).fail(t=>Object(r.a)(t.responseJSON))})}),$("#btn-modal-signup").click(()=>{const t=$("#signUpEmail").val().toLowerCase(),n=$("#signUpFirstName").val(),e=$("#signUpLastName").val(),a=$("#signUpTel").val(),c=$("#signUpAddress").val(),l=$("#signUpPassword").val(),u=$("#signUpConfirm").val();if([t,n,e,a,c,l].reduce((t,n)=>t||0==n.length,!1))return alert("Vui lòng điền đầy đủ thông tin.");if(!i.a.isEmail(t))return alert("Địa chỉ email không hợp lệ.");if(!Object(p.a)(l))return alert("Mật khẩu yêu cầu tối thiểu 8 ki tự, trong đó ít nhất 1 kí tự hoa, 1 kí tự thường, 1 số và 1 kí tự đặc biệt.");if(l!==u)return alert("Mật khẩu không khớp.");const d=`${h.a.baseUrl}/api/auth/signup.php`,m={email:t,firstName:n,lastName:e,tel:a,address:c,password:l};Object(r.d)(()=>{$.post(d,o.a.stringify(m),t=>{Object(r.c)(),console.log(t),Object(s.c)("Đăng kí tài khoản thành công.",()=>{$("#js-modal-signup").modal("hide")})}).fail(t=>Object(r.a)(t.responseJSON))})}),$("#headerLogout").find("a").click(()=>{Object(f.a)(),window.location.reload()}),Object(f.d)(t=>{if(t){console.log("Logined");const{user:n,token:e}=t;console.log(n),$("#headerLogin").hide(),$("#headerSignUp").hide()}else console.log("No login"),$("#headerProfile").hide(),$("#headerLogout").hide()}),d(),function(){var t,n;$(".custom_dropdown_placeholder").length&&$(".custom_list").length&&(t=$(".custom_dropdown_placeholder"),n=$(".custom_list")),t.on("click",t=>{n.hasClass("active")?n.removeClass("active"):n.addClass("active"),$(document).one("click",function t(e){$(e.target).hasClass("clc")?$(document).one("click",t):n.removeClass("active")})}),$(".custom_list a").on("click",function(e){e.preventDefault(),$(this).parent().index(),t.text($(this).text()).css("opacity","1"),n.hasClass("active")?n.removeClass("active"):n.addClass("active")}),$("select").on("change",function(n){t.text(this.value),$(this).animate({width:`${t.width()}px`})})}(),$(".page_menu").length&&$(".page_menu_content").length&&($(".page_menu"),$(".page_menu_content"),$(".menu_trigger").on("click",()=>{u()?m():function(){$(".page_menu");var t=$(".page_menu_content");TweenMax.set(t,{height:"auto"}),TweenMax.from(t,.3,{height:0}),l=!0}()}),$(".page_menu_item").length&&$(".page_menu_item").each(function(){var t=$(this);t.hasClass("has-children")&&t.on("click",n=>{n.preventDefault(),n.stopPropagation();var e=t.find("> ul");e.hasClass("active")?(e.toggleClass("active"),TweenMax.to(e,.3,{height:0})):(e.toggleClass("active"),TweenMax.set(e,{height:"auto"}),TweenMax.from(e,.3,{height:0}))})})),Object(g.c)(),Object(g.d)(),$(window).on("resize",()=>{d()})},2:function(t,n,e){"use strict";function a(t,n=(()=>{})){$.confirm({title:"Thông báo",icon:"fa fa-bell",type:"green",content:t,buttons:{ok:{text:"OK",btnClass:"btn-green",action(){n()}}}})}function i(t,n=(()=>{})){$.confirm({title:"Lỗi",icon:"fa fa-exclamation-triangle",type:"red",content:t,buttons:{ok:{text:"OK",btnClass:"btn-red",action(){n()}}}})}function c(t,n,e,a=(()=>{}),i=(()=>{})){$.confirm({title:"Thông báo",icon:"fa fa-bell",type:"green",content:t,buttons:{ok:{text:n,btnClass:"btn-green",action(){a()}},cancel:{text:e,action(){i()}}}})}function o(t,n,e,a=(()=>{}),i=(()=>{})){$.confirm({title:"Cảnh báo",icon:"fa fa-exclamation-triangle",type:"red",content:t,buttons:{ok:{text:n,btnClass:"btn-red",action(){a()}},cancel:{text:e,action(){i()}}}})}function r(t,n,e,a=(()=>{}),i=(()=>{})){$.confirm({title:"Thông báo",icon:"fa fa-question-circle",type:"orange",content:t,buttons:{ok:{text:n,btnClass:"btn-orange",action(){a()}},cancel:{text:e,action(){i()}}}})}e.d(n,"c",function(){return a}),e.d(n,"b",function(){return i}),e.d(n,"d",function(){return c}),e.d(n,"a",function(){return o}),e.d(n,"e",function(){return r})},234:function(t,n,e){},236:function(t,n,e){},266:function(t,n,e){"use strict";e.r(n);e(234),e(236);var a=e(8),i=e.n(a),c=e(7),o=e(6),r=e(2),s=e(1),l=e(5),u=e(4);let d=0;const m=()=>{!function(){let t=!1;Object(l.d)(n=>{n?(t=!0,$("#payment-no-login").css("display","none")):t=!1}),$(".cart_button_checkout").click(()=>{if(t){const t=Object(c.f)();if(0==t.length)return void Object(r.b)("Giỏ hàng của bạn hiện chưa có sản phẩm nào. Hãy tiếp tục mua sắm trước khi tiến hành thanh toán.");Object(r.e)("Đơn hàng của bạn sẽ được thiết lập. Bạn thật sự muốn gửi yêu cầu đơn hàng này?","Gửi yêu cầu","Hủy",()=>{Object(s.d)(()=>(function(t){const n=`${u.a.baseUrl}/api/order/create.php`,e={paymentAddress:$("input[name=payment_address]:checked").val(),paymentMethod:$("input[name=payment_method]:checked").val(),products:t.map(t=>({productId:t.id,quantity:t.quantity,unitPrice:t.price}))};console.log(e),$.ajax({url:n,type:"POST",data:i.a.stringify(e),headers:{Authorization:Object(l.b)()},success:t=>{Object(s.c)(),console.log(t),Object(r.c)(`Đơn hàng đã được chấp nhận và đang chờ xét duyệt. Chúng tôi sẽ liên lạc bạn để hoàn tất đơn hàng này. \n Mã đơn hàng: ${t.order.id}`,()=>{Object(c.b)(),window.location.pathname="profile.html"})}}).fail(t=>Object(s.b)(t))})(t))})}else Object(r.b)("Vui lòng đăng nhập để tiếp tục.",()=>{$("#js-modal-login").modal("show")})})}();const t=$(".cart_list"),n=Object(c.f)();0!=n.length?(t.find("p").hide(),console.log(n),d=Object(c.g)(n),n.forEach(n=>{const e=$((t=>`\n<li class="cart_item clearfix">\n  <div class="cart_item_image"><img src="${t.thumbnail}" alt="${t.name}"></div>\n  <div class="cart_item_info row">\n    <div class="cart_item_name col-12 col-md-5">\n      <div class="cart_item_text">${t.name}</div>\n    </div>\n\n    <div class="cart_item_price col-5 col-md-2 col-sm-4">\n      <div class="cart_item_text">${Object(o.a)(t.price)}</div>\n    </div>\n    <div class="cart_item_quantity col-1 col-md-2 col-sm-1">\n      <div class="product_quantity clearfix">\n        <span>x</span>\n        <input type="text" pattern="[0-9]*" value="${t.quantity}">\n        <div class="quantity_buttons">\n          <div class="quantity_inc quantity_control"><i class="fas fa-chevron-up"></i></div>\n          <div class="quantity_dec quantity_control"><i class="fas fa-chevron-down"></i></div>\n        </div>\n      </div>\n    </div>\n    <div class="cart_item_total col-6 col-md-3 col-sm-4">\n      <div class="cart_item_text">${Object(o.a)(t.price*t.quantity)}</div>\n    </div>\n  </div>\n</li>\n`)(n));t.append(e),function(t,n){if(t.find(".product_quantity").length){var e,a,i=t.find("input"),s=t.find(".quantity_inc"),l=t.find(".quantity_dec");s.on("click",()=>{e=i.val(),a=parseFloat(e)+1,i.val(a),Object(c.a)(n),n.quantity++,d+=n.price,t.find(".cart_item_total > .cart_item_text").text(Object(o.a)(n.price*n.quantity)),$(".order_total_amount").text(Object(o.a)(d))}),l.on("click",()=>{(e=i.val())>1?(a=parseFloat(e)-1,i.val(a),Object(c.e)(n),n.quantity--,d-=n.price,t.find(".cart_item_total > .cart_item_text").text(Object(o.a)(n.price*n.quantity)),$(".order_total_amount").text(Object(o.a)(d))):Object(r.a)(`Sản phẩm <i>${n.name}</i> sẽ bị xóa khỏi giỏ hàng. Bạn thật sự muốn xóa sản phẩm này khỏi giỏ hàng?`,"Xóa khỏi giỏ","Bỏ qua",()=>{Object(c.e)(n),d-=n.price,$(".order_total_amount").text(Object(o.a)(d)),t.remove()})})}}(e,n)}),$(".order_total_amount").text(Object(o.a)(d))):t.find("p").show()};e(13);m()},4:function(t,n,e){"use strict";e.d(n,"a",function(){return a});const a={baseUrl:"http://hands-free.epizy.com"}},5:function(t,n,e){"use strict";function a(t,n,e,a){localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("token",n),localStorage.setItem("tokenExpire",e),localStorage.setItem("issuedAt",a)}function i(){["user","token","tokenExpire","issuedAt"].forEach(t=>{localStorage.removeItem(t)})}function c(){return localStorage.getItem("token")}function o(){return JSON.parse(localStorage.getItem("user"))}function r(t){localStorage.setItem("user",JSON.stringify(t))}function s(t){const n=JSON.parse(localStorage.getItem("user")),e=localStorage.getItem("token"),a=localStorage.getItem("tokenExpire");if(!n||!n.email||!e||!a||1e3*a<Date.now())return i(),t();t({user:n,token:e})}function l(){const t=JSON.parse(localStorage.getItem("user")),n=localStorage.getItem("token"),e=localStorage.getItem("tokenExpire");return t&&t.email&&n&&e&&!(1e3*e<Date.now())?{user:t,token:n}:(i(),!1)}e.d(n,"f",function(){return a}),e.d(n,"a",function(){return i}),e.d(n,"b",function(){return c}),e.d(n,"c",function(){return o}),e.d(n,"g",function(){return r}),e.d(n,"d",function(){return s}),e.d(n,"e",function(){return l})},6:function(t,n,e){"use strict";e.d(n,"a",function(){return c});var a=e(12),i=e.n(a);function c(t){return`${i()(t).format("0,0")} đ`}},7:function(t,n,e){"use strict";e.d(n,"g",function(){return i}),e.d(n,"c",function(){return r}),e.d(n,"d",function(){return s}),e.d(n,"a",function(){return l}),e.d(n,"e",function(){return u}),e.d(n,"f",function(){return d}),e.d(n,"b",function(){return m});var a=e(6);const i=t=>t.reduce((t,n)=>t+Number.parseInt(n.price,10)*n.quantity,0),c=t=>Object(a.a)(i(t)),o=t=>t.reduce((t,n)=>t+n.quantity,0),r=()=>{const t=$(".cart_count span"),n=$(".cart_price"),e=JSON.parse(localStorage.getItem("cart")||"[]");t.text(o(e)),n.text(c(e))},s=()=>{const t=$(".wishlist_count"),n=JSON.parse(localStorage.getItem("wishlist")||"[]");t.text(n.length)},l=(t,n=1)=>{const e=$(".cart_count span"),a=$(".cart_price"),i=JSON.parse(localStorage.getItem("cart")||"[]");console.log("Add cart:",t);const{id:r,brandName:s,modelId:l,modelName:u,name:d,price:m,thumbnail:g}=t,f=i.findIndex(t=>t.id==r);f>-1?i[f].quantity+=n:i.push({quantity:n,id:r,brandName:s,modelId:l,modelName:u,name:d,price:m,thumbnail:g}),e.text(o(i)),a.text(c(i)),localStorage.setItem("cart",JSON.stringify(i))},u=t=>{const n=$(".cart_count span"),e=$(".cart_price"),a=JSON.parse(localStorage.getItem("cart")||"[]");console.log("Remove cart:",t);const{id:i,brandName:r,modelId:s,modelName:l,name:u,price:d,thumbnail:m}=t,g=a.findIndex(t=>t.id==i);g>-1?(a[g].quantity--,0==a[g].quantity&&a.splice(g,1)):console.log("Item not found"),n.text(o(a)),e.text(c(a)),localStorage.setItem("cart",JSON.stringify(a))},d=()=>JSON.parse(localStorage.getItem("cart")||"[]"),m=()=>{localStorage.removeItem("cart")}},9:function(t,n,e){"use strict";function a(t){return t&&/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(t)}function i(t){return t&&/^uploads\/.*$/.test(t)}e.d(n,"a",function(){return a}),e.d(n,"b",function(){return i})}},[[266,1,0]]]);