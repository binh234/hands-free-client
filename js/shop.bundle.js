(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var i=n(2);function a(e=(()=>{})){$("#loading").css("display","block"),setTimeout(()=>e(),400)}function c(){$("#loading").css("display","none")}function o(e){c(),setTimeout(()=>Object(i.b)(e),100)}function r(e){c(),setTimeout(()=>Object(i.b)(e.responseJSON),100)}},11:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var i=n(6);const a=e=>(e.price=Number.parseInt(e.price,10),e.priceText=Object(i.a)(e.price),e.ceilPrice&&(e.ceilPrice=Number.parseInt(e.ceilPrice,10),e.ceilPriceText=Object(i.a)(e.ceilPrice)),e.galleryImages=JSON.parse(e.galleryImages),e.technicalInfo=JSON.parse(e.technicalInfo),e),c=e=>e.map(e=>a(e))},13:function(e,t,n){"use strict";var i=n(10),a=n.n(i),c=n(8),o=n.n(c),r=n(1),s=n(2);let l=!1;const u=()=>l;function d(){window.innerWidth>991&&l&&p()}function p(){$(".page_menu");var e=$(".page_menu_content");TweenMax.to(e,.3,{height:0}),l=!1}var g=n(7),m=n(5),f=n(4),h=n(9);$("#btn-modal-forgot").click(()=>{Object(r.d)(),setTimeout(()=>{Object(r.c)(),Object(s.c)("Đã gửi đường dẫn thay đổi mật khẩu tới địa chỉ email của bạn. Vui lòng kiểm tra email.",()=>{$("#js-modal-forgot").modal("hide")})},500)}),$("#btn-modal-login").click(()=>{const e=$("#loginEmail").val(),t=$("#loginPassword").val();if(!a.a.isEmail(e))return alert("Địa chỉ email không hợp lệ");const n=`${f.a.baseUrl}/api/auth/login.php`;Object(r.d)(()=>{$.post(n,o.a.stringify({email:e,password:t}),e=>{Object(r.c)(),console.log(e);const{issuedAt:t,token:n,tokenExpire:i,user:a}=e;Object(m.f)(a,n,i,t),window.location.reload()}).fail(e=>Object(r.a)(e.responseJSON))})}),$("#btn-modal-signup").click(()=>{const e=$("#signUpEmail").val().toLowerCase(),t=$("#signUpFirstName").val(),n=$("#signUpLastName").val(),i=$("#signUpTel").val(),c=$("#signUpAddress").val(),l=$("#signUpPassword").val(),u=$("#signUpConfirm").val();if([e,t,n,i,c,l].reduce((e,t)=>e||0==t.length,!1))return alert("Vui lòng điền đầy đủ thông tin.");if(!a.a.isEmail(e))return alert("Địa chỉ email không hợp lệ.");if(!Object(h.a)(l))return alert("Mật khẩu yêu cầu tối thiểu 8 ki tự, trong đó ít nhất 1 kí tự hoa, 1 kí tự thường, 1 số và 1 kí tự đặc biệt.");if(l!==u)return alert("Mật khẩu không khớp.");const d=`${f.a.baseUrl}/api/auth/signup.php`,p={email:e,firstName:t,lastName:n,tel:i,address:c,password:l};Object(r.d)(()=>{$.post(d,o.a.stringify(p),e=>{Object(r.c)(),console.log(e),Object(s.c)("Đăng kí tài khoản thành công.",()=>{$("#js-modal-signup").modal("hide")})}).fail(e=>Object(r.a)(e.responseJSON))})}),$("#headerLogout").find("a").click(()=>{Object(m.a)(),window.location.reload()}),Object(m.d)(e=>{if(e){console.log("Logined");const{user:t,token:n}=e;console.log(t),$("#headerLogin").hide(),$("#headerSignUp").hide()}else console.log("No login"),$("#headerProfile").hide(),$("#headerLogout").hide()}),d(),function(){var e,t;$(".custom_dropdown_placeholder").length&&$(".custom_list").length&&(e=$(".custom_dropdown_placeholder"),t=$(".custom_list")),e.on("click",e=>{t.hasClass("active")?t.removeClass("active"):t.addClass("active"),$(document).one("click",function e(n){$(n.target).hasClass("clc")?$(document).one("click",e):t.removeClass("active")})}),$(".custom_list a").on("click",function(n){n.preventDefault(),$(this).parent().index(),e.text($(this).text()).css("opacity","1"),t.hasClass("active")?t.removeClass("active"):t.addClass("active")}),$("select").on("change",function(t){e.text(this.value),$(this).animate({width:`${e.width()}px`})})}(),$(".page_menu").length&&$(".page_menu_content").length&&($(".page_menu"),$(".page_menu_content"),$(".menu_trigger").on("click",()=>{u()?p():function(){$(".page_menu");var e=$(".page_menu_content");TweenMax.set(e,{height:"auto"}),TweenMax.from(e,.3,{height:0}),l=!0}()}),$(".page_menu_item").length&&$(".page_menu_item").each(function(){var e=$(this);e.hasClass("has-children")&&e.on("click",t=>{t.preventDefault(),t.stopPropagation();var n=e.find("> ul");n.hasClass("active")?(n.toggleClass("active"),TweenMax.to(n,.3,{height:0})):(n.toggleClass("active"),TweenMax.set(n,{height:"auto"}),TweenMax.from(n,.3,{height:0}))})})),Object(g.c)(),Object(g.d)(),$(window).on("resize",()=>{d()})},14:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(11),a=n(4);const c=e=>`\n<div class="owl-item">\n<div class="viewed_item d-flex flex-column align-items-center justify-content-center text-center\n  ${e.ceilPriceText?"discount":`${e.hotNew?"is_new":""}`}">\n\n  <div class="viewed_image">\n    <img src="${e.thumbnail}" alt="${e.name}">\n  </div>\n\n  <div class="viewed_content text-center">\n    <div class="viewed_price">${e.priceText}\n    ${e.ceilPriceText?`<span>${e.ceilPriceText}</span>`:""}\n    </div>\n    <div class="viewed_name"><a href="product.html?id=${e.id}">${e.name}</a></div>\n  </div>\n  <ul class="item_marks">\n\n  ${e.ceilPriceText?`<li class="item_mark item_discount">\n          -${Math.ceil((e.ceilPrice-e.price)/e.ceilPrice*100)}%\n        </li>`:""}\n\n    ${e.hotNew?'<li class="item_mark item_new">new</li>':""}\n\n  </ul>\n</div>\n</div>\n`;let o=[];function r(){const e=$(".viewed_slider");$.get(`${a.a.baseUrl}/api/product/getHotDeal.php`,t=>{(o=Object(i.b)(t)).forEach(t=>{e.append(c(t))}),function(){if($(".viewed_slider").length){var e=$(".viewed_slider");if(e.owlCarousel({loop:!0,margin:30,autoplay:!0,autoplaySpeed:600,autoplayTimeout:1500,nav:!1,dots:!1,responsive:{0:{items:1},575:{items:2},768:{items:3},991:{items:4},1199:{items:6}}}),$(".viewed_prev").length){var t=$(".viewed_prev");t.on("click",()=>{e.trigger("prev.owl.carousel")})}if($(".viewed_next").length){var n=$(".viewed_next");n.on("click",()=>{e.trigger("next.owl.carousel")})}}}()}).fail(e=>console.log(e))}},15:function(e,t,n){"use strict";function i(){for(var e=document.getElementsByClassName("product_fav"),t=0;t<e.length;t++){e[t].addEventListener("click",e=>{e.target.classList.toggle("active")})}}n.d(t,"a",function(){return i})},2:function(e,t,n){"use strict";function i(e,t=(()=>{})){$.confirm({title:"Thông báo",icon:"fa fa-bell",type:"green",content:e,buttons:{ok:{text:"OK",btnClass:"btn-green",action(){t()}}}})}function a(e,t=(()=>{})){$.confirm({title:"Lỗi",icon:"fa fa-exclamation-triangle",type:"red",content:e,buttons:{ok:{text:"OK",btnClass:"btn-red",action(){t()}}}})}function c(e,t,n,i=(()=>{}),a=(()=>{})){$.confirm({title:"Thông báo",icon:"fa fa-bell",type:"green",content:e,buttons:{ok:{text:t,btnClass:"btn-green",action(){i()}},cancel:{text:n,action(){a()}}}})}function o(e,t,n,i=(()=>{}),a=(()=>{})){$.confirm({title:"Cảnh báo",icon:"fa fa-exclamation-triangle",type:"red",content:e,buttons:{ok:{text:t,btnClass:"btn-red",action(){i()}},cancel:{text:n,action(){a()}}}})}function r(e,t,n,i=(()=>{}),a=(()=>{})){$.confirm({title:"Thông báo",icon:"fa fa-question-circle",type:"orange",content:e,buttons:{ok:{text:t,btnClass:"btn-orange",action(){i()}},cancel:{text:n,action(){a()}}}})}n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return r})},259:function(e,t,n){},261:function(e,t,n){},264:function(e,t,n){"use strict";n.r(t);n(259),n(261);var i=n(14),a=n(15),c=n(8),o=n.n(c),r=n(11),s=n(1),l=n(4);let u=[],d=[];const p={keywords:"",brandList:[],minPrice:0,maxPrice:3e7,orderType:"best_sell",page:1};let g=1;const m=$(".product_grid_items"),f=(e,t)=>{const n="..."==e,i=$(".page_nav"),a=$(`\n    <li class="${t?"btn btn-red":""}" style="${n?"cursor: not-allowed !important;":""}\n    ${t?"color: white !important;":""}">\n      <a href="javascript:void(0)" id="page-${e}"\n      style="${n?"cursor: not-allowed !important;":""}\n        ${t?"color: white !important;":""}"\n      >${e}</a>\n    </li>`);i.append(a),n||a.click(()=>{p.page=e,Object(s.d)(()=>h())})};const h=()=>{const e=`/api/product/search.php?${o.a.stringify(p)}`,t=`${l.a.baseUrl}${e}`;console.log(e),$.get(t,e=>{console.log(e);const{total:t,page:n,onePage:i,totalPage:a,offset:c,data:o}=e;d=Object(r.b)(o),m.isotope("getItemElements").forEach(e=>{m.isotope("remove",e)}),d.forEach(e=>{const t=$((e=>`\n<div class="product_item ${e.ceilPriceText?"discount":`${e.hotNew?"is_new":""}`}">\n  <div class="product_border"></div>\n  <div class="product_image d-flex flex-column align-items-center justify-content-center">\n    <img src="${e.thumbnail}" alt="${e.name}">\n  </div>\n  <div class="product_content">\n    <div class="product_price" data-price=${e.price}>${e.priceText}\n    ${e.ceilPriceText?`<span>${e.ceilPriceText}</span>`:""}\n    </div>\n    <div class="product_name">\n      <div><a href="product.html?id=${e.id}">${e.name}</a></div>\n    </div>\n  </div>\n  <div class="product_fav"><i class="fas fa-heart"></i></div>\n  <ul class="product_marks">\n\n  ${e.ceilPriceText?`<li class="product_mark product_discount">\n        -${Math.ceil((e.ceilPrice-e.price)/e.ceilPrice*100)}%\n      </li>`:""}\n\n  ${e.hotNew?'<li class="product_mark product_new">new</li>':""}\n\n  </ul>\n</div>`)(e));m.append(t).isotope("appended",t).isotope("layout")}),g=a,(e=>{$("#shop_product_count_value").text(e)})(t),((e,t,n,i)=>{$(".page_nav").html("");for(let e=1;e<=i;e++)f(e,e==t)})(0,n,0,a),Object(s.c)()}).fail(e=>Object(s.b)(e))},v=e=>{p.keywords=$("#input-keywords").val(),p.brandList=[],$(".sidebar_categories_brand").each((e,t)=>{const n=$(t).attr("data-brand");$(t).find("input").is(":checked")&&p.brandList.push(n)}),$(".sidebar_sort_options").find("li input").each((e,t)=>{$(t).is(":checked")&&(p.orderType=$(t).attr("value"))}),e&&(p.page=1),console.log(p),h()};n(13);Object(i.a)(),function(){const e=$(".sidebar_categories");e.html(""),$.get(`${l.a.baseUrl}/api/brand/get.php`,t=>{(u=t).forEach(t=>{e.append(`\n        <li>\n          <div class="form-check sidebar_categories_brand" data-brand="${t.id}">\n            <input class="form-check-input" type="checkbox" checked="checked">\n            <label class="form-check-label">\n              ${t.name}\n            </label>\n          </div>\n        </li>`)})}).fail(e=>console.log(e))}(),function(){const e=$(".sidebar_sort_options");e.html(""),[{value:"best_sell",text:"Bán chạy nhất"},{value:"price_asc",text:"Giá tăng dần"},{value:"price_desc",text:"Giá giảm dần"},{value:"name",text:"Tên"}].forEach(t=>{e.append(`\n      <li>\n        <div class="form-check">\n          <input class="form-check-input" type="radio" name="sort" value="${t.value}" ${"best_sell"==t.value?"checked":""}>\n          <label class="form-check-label">\n            ${t.text}\n          </label>\n        </div>\n      </li>`)})}(),function(){if($("#slider-range").length){$("#slider-range").slider({range:!0,min:1,max:60,step:.5,values:[p.minPrice/1e6,p.maxPrice/1e6],slide(e,t){$("#amount").val(`${t.values[0]} triệu - ${t.values[1]} triệu`),p.minPrice=1e6*t.values[0],p.maxPrice=1e6*t.values[1]}});const e=`${$("#slider-range").slider("values",0)} triệu - ${$("#slider-range").slider("values",1)} triệu`;$("#amount").val(e)}}(),function(){var e=$(".shop_sorting_button");m.isotope({itemSelector:".product_item",getSortData:{price(e){let t=$(e).find(".product_price").attr("data-price");return"null"==t&&(t="9999999999999"),parseInt(t,10)},negPrice(e){let t=$(e).find(".product_price").attr("data-price");return"null"==t&&(t="9999999999999"),-parseInt(t,10)},name:".product_name div a"},animationOptions:{duration:750,easing:"linear",queue:!1}}),e.each(function(){$(this).on("click",function(){$(".sorting_text span").text($(this).text());var e=$(this).attr("data-isotope-option");e=JSON.parse(e),m.isotope(e)})})}(),h(),$("#btn-search").click(()=>{Object(s.d)(()=>v(!0))}),(()=>{const e=$("#page_prev"),t=$("#page_next");e.click(()=>{1!=p.page&&(p.page=parseInt(p.page,10)-1,Object(s.d)(()=>v()))}),t.click(()=>{parseInt(p.page,10)+1>parseInt(g,10)||(p.page=parseInt(p.page,10)+1,Object(s.d)(()=>v()))})})(),Object(a.a)()},4:function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i={baseUrl:"http://hands-free.epizy.com"}},5:function(e,t,n){"use strict";function i(e,t,n,i){localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token",t),localStorage.setItem("tokenExpire",n),localStorage.setItem("issuedAt",i)}function a(){["user","token","tokenExpire","issuedAt"].forEach(e=>{localStorage.removeItem(e)})}function c(){return localStorage.getItem("token")}function o(){return JSON.parse(localStorage.getItem("user"))}function r(e){localStorage.setItem("user",JSON.stringify(e))}function s(e){const t=JSON.parse(localStorage.getItem("user")),n=localStorage.getItem("token"),i=localStorage.getItem("tokenExpire");if(!t||!t.email||!n||!i||1e3*i<Date.now())return a(),e();e({user:t,token:n})}function l(){const e=JSON.parse(localStorage.getItem("user")),t=localStorage.getItem("token"),n=localStorage.getItem("tokenExpire");return e&&e.email&&t&&n&&!(1e3*n<Date.now())?{user:e,token:t}:(a(),!1)}n.d(t,"f",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return o}),n.d(t,"g",function(){return r}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return l})},6:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(12),a=n.n(i);function c(e){return`${a()(e).format("0,0")} đ`}},7:function(e,t,n){"use strict";n.d(t,"g",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"b",function(){return p});var i=n(6);const a=e=>e.reduce((e,t)=>e+Number.parseInt(t.price,10)*t.quantity,0),c=e=>Object(i.a)(a(e)),o=e=>e.reduce((e,t)=>e+t.quantity,0),r=()=>{const e=$(".cart_count span"),t=$(".cart_price"),n=JSON.parse(localStorage.getItem("cart")||"[]");e.text(o(n)),t.text(c(n))},s=()=>{const e=$(".wishlist_count"),t=JSON.parse(localStorage.getItem("wishlist")||"[]");e.text(t.length)},l=(e,t=1)=>{const n=$(".cart_count span"),i=$(".cart_price"),a=JSON.parse(localStorage.getItem("cart")||"[]");console.log("Add cart:",e);const{id:r,brandName:s,modelId:l,modelName:u,name:d,price:p,thumbnail:g}=e,m=a.findIndex(e=>e.id==r);m>-1?a[m].quantity+=t:a.push({quantity:t,id:r,brandName:s,modelId:l,modelName:u,name:d,price:p,thumbnail:g}),n.text(o(a)),i.text(c(a)),localStorage.setItem("cart",JSON.stringify(a))},u=e=>{const t=$(".cart_count span"),n=$(".cart_price"),i=JSON.parse(localStorage.getItem("cart")||"[]");console.log("Remove cart:",e);const{id:a,brandName:r,modelId:s,modelName:l,name:u,price:d,thumbnail:p}=e,g=i.findIndex(e=>e.id==a);g>-1?(i[g].quantity--,0==i[g].quantity&&i.splice(g,1)):console.log("Item not found"),t.text(o(i)),n.text(c(i)),localStorage.setItem("cart",JSON.stringify(i))},d=()=>JSON.parse(localStorage.getItem("cart")||"[]"),p=()=>{localStorage.removeItem("cart")}},9:function(e,t,n){"use strict";function i(e){return e&&/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e)}function a(e){return e&&/^uploads\/.*$/.test(e)}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})}},[[264,1,0]]]);